{% load static %}
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–ò–° –°–±–æ—Ä–∞ –î–∞–Ω–Ω—ã—Ö ‚Äî –ì–ª–∞–≤–Ω–∞—è</title>
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
</head>
<body>

<header>
    <h1>üìà –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å–±–æ—Ä–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞ –∫–æ—Ç–∏—Ä–æ–≤–æ–∫</h1>
</header>

<nav>
    <a href="/">üè† –ì–ª–∞–≤–Ω–∞—è</a>
    <a href="/correlation/">üìä –†–∞—Å—Å—á–∏—Ç–∞—Ç—å –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏</a>
    <a href="https://docs.google.com/spreadsheets/d/14dUpg8rIr7FYbR74QRFGwBxYY12f1xvo1tIOOf-HjPE/edit?usp=sharing" target="_blank">
            üìÇ –û—Ç–∫—Ä—ã—Ç—å –¥–∞–Ω–Ω—ã–µ
    </a>
</nav>

<div class="container">

    <div class="section">
        <h2>‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫ –ø–∞—Ä—Å–µ—Ä–∞</h2>
        <form method="post">
            {% csrf_token %}
            <button type="submit">–ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö</button>
        </form>
        <a class="link-button" href="https://docs.google.com/spreadsheets/d/14dUpg8rIr7FYbR74QRFGwBxYY12f1xvo1tIOOf-HjPE/edit?usp=sharing" target="_blank">
            üìÑ –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ Google –¢–∞–±–ª–∏—Ü–µ
        </a>
    </div>

    {% if top_correlations %}
    <h2>üîù –¢–æ–ø-10 –∫–æ—Ä—Ä–µ–ª–∏—Ä—É—é—â–∏—Ö –ø–∞—Ä</h2>
    <table>
        <tr><th>#</th><th>–ê–∫—Ü–∏—è A</th><th>–ê–∫—Ü–∏—è B</th><th>–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç</th></tr>
        {% for row in top_correlations %}
            <tr>
                <td>{{ forloop.counter }}</td>
                <td>{{ row.ticker1 }}</td>
                <td>{{ row.ticker2 }}</td>
                <td>{{ row.correlation|floatformat:4 }}</td>
            </tr>
        {% endfor %}
    </table>
    {% endif %}

    <div class="section">
        <h2>üìà –õ–∏–¥–µ—Ä—ã —Ä–æ—Å—Ç–∞ –∏ –ø–∞–¥–µ–Ω–∏—è –∑–∞ —Å—É—Ç–∫–∏</h2>
        <div style="display: flex; gap: 20px; flex-wrap: wrap;">
            <div style="flex: 1; min-width: 250px;">
                <h3 style="color: green;">üìà –õ–∏–¥–µ—Ä—ã —Ä–æ—Å—Ç–∞</h3>
                <table>
                    <tr>
                        <th>–¢–∏–∫–µ—Ä</th>
                        <th>–ò–∑–º–µ–Ω–µ–Ω–∏–µ</th>
                    </tr>
                    {% for item in growth_data.leaders_up %}
                    <tr>
                        <td>{{ item.ticker }}</td>
                        <td style="color:green;">+{{ item.growth_percent|floatformat:2 }}%</td>
                    </tr>
                    {% empty %}
                    <tr><td colspan="2">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö</td></tr>
                    {% endfor %}
                </table>
            </div>

            <div style="flex: 1; min-width: 250px;">
                <h3 style="color: red;">üìâ –õ–∏–¥–µ—Ä—ã –ø–∞–¥–µ–Ω–∏—è</h3>
                <table>
                    <tr>
                        <th>–¢–∏–∫–µ—Ä</th>
                        <th>–ò–∑–º–µ–Ω–µ–Ω–∏–µ</th>
                    </tr>
                    {% for item in growth_data.leaders_down %}
                    <tr>
                        <td>{{ item.ticker }}</td>
                        <td style="color:red;">{{ item.growth_percent|floatformat:2 }}%</td>
                    </tr>
                    {% empty %}
                    <tr><td colspan="2">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö</td></tr>
                    {% endfor %}
                </table>
            </div>
        </div>
    </div>

</div>

</body>
</html>
